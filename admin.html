<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Administrador</title>

<style>
body{font-family:Arial;background:#fff7ed;padding:20px}
input{padding:6px;margin:4px}
button{padding:6px 10px;background:#f57c00;color:white;border:none;border-radius:6px}
</style>
</head>

<body>

<h2>ðŸ›  Administrador de productos</h2>

<script>
const CLAVE="2404";
if(!sessionStorage.getItem("admin")){
let c=prompt("Ingrese la clave de administrador");
if(c!==CLAVE){
alert("Clave incorrecta");
location.href="index.html";
}else{
sessionStorage.setItem("admin","ok");
}
}
</script>

<h3>ðŸ“¦ Productos actuales</h3>
<div id="lista"></div>

<h3>âž• Agregar producto</h3>
<input id="nombre" placeholder="Nombre">
<input id="precio" placeholder="Precio">
<input id="img" placeholder="URL imagen">
<button onclick="agregar()">Guardar</button>

<br><br>
<button onclick="salir()">ðŸšª Salir</button>

<script>
let catalogo=JSON.parse(localStorage.getItem("catalogo"))||[];

function mostrar(){
lista.innerHTML="";
catalogo.forEach((p,i)=>{
lista.innerHTML+=`
${p.nombre} RD$${p.precio}
<button onclick="borrar(${i})">ðŸ—‘</button><br>`;
});
}

function agregar(){
catalogo.push({
nombre:nombre.value,
precio:precio.value,
img:img.value||"https://via.placeholder.com/80"
});
localStorage.setItem("catalogo",JSON.stringify(catalogo));
mostrar();
nombre.value=precio.value=img.value="";
}

function borrar(i){
catalogo.splice(i,1);
localStorage.setItem("catalogo",JSON.stringify(catalogo));
mostrar();
}

function salir(){
sessionStorage.removeItem("admin");
location.href="index.html";
}

mostrar();
</script>

</body>
</html>
